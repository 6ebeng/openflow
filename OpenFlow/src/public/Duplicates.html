<div class="row">
  <h1 translate lib="web">duplicates tracking</h1>
</div>

<div class=" col-md-6 text-right">
  <!-- <a ng-href="#/Duplicates/{{ctrl.collection}}" class="btn btn-info"><i class="fas fa-clone"></i></a>
    <a ng-href="#/Entity/{{ctrl.collection}}" class="btn btn-info"><i class="az-add-lg"></i></a> -->
</div>
</div>

<div ng-show="ctrl.errormessage != ''"" class=" alert alert-danger" role="alert">{{ctrl.errormessage}}</div>

<div class="form-group form-horizontal">
  <label class="sr-only">Uniqeness</label>
  <div class="input-group unframed-addons col-sm-9 ">
    <div class="input-group-addon"><i class="fas fa-search"></i></div>
    <input ng-model="ctrl.uniqeness" ng-change="ctrl.loadData()" class="form-control input-md"
      ng-model-options="{debounce: 400}" />
    <p class="col-md-1 lead"></p>
    <div class="text-right">
      <button class="btn btn-info" ng-click="ctrl.MassDeleteOnlyOne()"><i class="az-trash"></i> one</button>
      <button class="btn btn-info" ng-click="ctrl.MassDeleteAllButOne()"><i class="az-trash"></i> all but one</button>
      <button class="btn btn-info" ng-click="ctrl.MassDeleteAll()"><i class="az-trash"></i> all</button>
    </div>
  </div>
</div>

</div>
<table id=" table1" class="table table-striped table-hover table-sm" when-scrolled="ctrl.more()" style="width: 100%;">
  <thead class="thead-dark">
    <tr>
      <th scope="col" ng-click="ctrl.ToggleOrder('_id')"><b>_id</b></th>
      <th scope="col" ng-click="ctrl.ToggleOrder('count')"><b>count</b></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr ng-repeat="model in ctrl.models" ng-click="ctrl.ShowData(model)">
      <td>{{model._id}}</td>
      <td>{{model.count}}</td>
      <td class="btn-cell">
        <!-- <a ng-href="#/History/{{ctrl.collection}}/{{model._id}}" class="table-btn">Hist</a> -->
      </td>
      <td class="btn-cell">
        <a href ng-click="ctrl.DeleteOnlyOne(model)" ng-disabled="ctrl.loading==true" class="table-btn"><i
            class="az-trash"></i> one</a>
      </td>
      <td class="btn-cell">
        <a href ng-click="ctrl.DeleteAll(model)" ng-disabled="ctrl.loading==true" class="table-btn"><i
            class="az-trash"></i> all</a>
      </td>
    </tr>
  </tbody>
</table>



<div class="modal" tabindex="-1" role="dialog" id="exampleModal">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">{{ctrl.model.name}} </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div ng-repeat="model in ctrl.model.items">
          <a ng-click="ctrl.OpenEntity(model)" class="table-btn"><i class="az-edit"></i>{{ model }}</a>

        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>