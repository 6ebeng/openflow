<!DOCTYPE html>
<html lang="en" ng-app="webApp" data-framework="typescript">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
  <meta name="viewport" content="width=device-width" />
  <title>OpenFlow</title>
</head>

<body ng-controller="MenuCtrl as menuctrl" class="with-custom-webkit-scrollbars with-custom-css-scrollbars "
  data-dm-shortcut-enabled="true" data-set-preferred-mode-onload="true">
  <div class="page-wrapper with-navbar halfmoon-overrides">
    <div class="sticky-alerts"></div>

    <nav class="navbar navbar-expand-md fixed-top" ng-show="menuctrl.signedin">




      <a href="#" class="navbar-brand">
        <span translate lib="web">sitename</span>
      </a>
      <span class="navbar-text text-monospace">v{{menuctrl.WebSocketClientService.version}}</span>
      <ul class="navbar-nav d-none d-md-flex">
        <li class="nav-item" ng-class="{active: menuctrl.PathIs('/Entities')}">
          <a href="#/Entities" class="nav-link" ng-show="menuctrl.hasrole('users')"><span translate
              lib="web">entities</span></a>
        </li>
        <li class="nav-item" ng-class="{active: menuctrl.PathIs('/Workflows')}">
          <a href="#/Workflows" class="nav-link"><span translate lib="web">workflows</span></a>
        </li>
        <li class="nav-item" ng-class="{active: menuctrl.PathIs('/RPAWorkflows')}">
          <a href="#/RPAWorkflows" class="nav-link" ng-show="menuctrl.hasrole('users')"><span translate
              lib="web">rpaworkflows</span></a>
        </li>
        <li class="nav-item" ng-class="{active: menuctrl.PathIs('/Clients')}">
          <a href="#/Clients" class="nav-link" ng-show="menuctrl.hasrole('users')"><span translate
              lib="web">clients</span></a>
        </li>
        <li class="nav-item" ng-class="{active: menuctrl.PathIs('/Nodered')}">
          <a href="#/Nodered" class="nav-link"
            ng-show="menuctrl.WebSocketClientService.allow_personal_nodered == true && menuctrl.hasrole('personal nodered users')">
            <span translate lib="web">nodered</span></a>
        </li>
        <div class="dropdown with-arrow">
          <button class="btn" data-toggle="dropdown" type="button" id="navbar-dropdown-toggle-btn-1">
            <span translate lib="web">admin</span>
            <i class="fa fa-angle-down" aria-hidden="true"></i>
          </button>
          <div class="dropdown-menu dropdown-menu-right w-200" aria-labelledby="navbar-dropdown-toggle-btn-1">
            <a class="dropdown-item" href="#/Users"
              ng-show="!menuctrl.WebSocketClientService.multi_tenant || (menuctrl.hasrole('admins') || menuctrl.hasrole('customer admins'))"><span
                translate lib="web">users</span></a>
            <a class="dropdown-item" href="#/Roles"
              ng-show="!menuctrl.WebSocketClientService.multi_tenant || (menuctrl.hasrole('admins') || menuctrl.hasrole('customer admins'))"><span
                translate lib="web">roles</span></a>
            <a class="dropdown-item" href="#/Credentials"><span translate lib="web">credentials</span></a>
            <a class="dropdown-item" href="#/Auditlogs"><span translate lib="web">auditlogs</span></a>
            <a class="dropdown-item" href="#/EntityRestrictions"
              ng-show="menuctrl.WebSocketClientService.enable_entity_restriction && menuctrl.hasrole('admins')"><span
                translate lib="web">entityrestrictions</span></a>
            <a class="dropdown-item" href="#/Forms"><span translate lib="web">forms</span></a>
            <a class="dropdown-item" href="#/Providers" ng-show="menuctrl.hasrole('admins')"><span translate
                lib="web">providers</span></a>
            <a class="dropdown-item" href="#/OAuthClients" ng-show="menuctrl.hasrole('admins')"><span translate
                lib="web">oauthclients</span></a>
            <a class="dropdown-item" href="#/Files"><span translate lib="web">files</span></a>
            <a class="dropdown-item" href="#/hdrobots"><span translate lib="web">hdrobots</span></a>
            <div class="dropdown-divider"></div>
            <div class="dropdown-content">
              <a class="dropdown-item" ng-href="#/User/{{menuctrl.user._id}}"> {{menuctrl.user.name ||
                menuctrl.user.username }} </a>
            </div>
            <a href="#/Payment" class="dropdown-item" ng-show="menuctrl.WebSocketClientService.stripe_api_key != ''">
              <span translate lib="web">billing</span></a>
            <a class="dropdown-item" href="#/Customers"
              ng-show="menuctrl.WebSocketClientService.multi_tenant && menuctrl.hasrole('resellers')">
              <span translate lib="web">customers</span></a>
          </div>
        </div>
      </ul>
      <form class="form-inline d-none d-md-flex ml-auto">
        <!-- remove -->
        <div ng-class="{active: menuctrl.PathIs('/Customer')}"
          ng-show="menuctrl.WebSocketClientService.multi_tenant && menuctrl.user.customerid == null">
          <a href="#/Customer" class="nav-link">
            <span translate lib="web">create customer</span></a>
        </div>
        <div ng-class="{active: menuctrl.PathIs('/Customer')}"
          ng-show="menuctrl.WebSocketClientService.multi_tenant && menuctrl.customers.length == 1">
          <a ng-href="#/Customer/{{menuctrl.customer._id}}" class="nav-link">{{menuctrl.customer.name}}</a>
        </div>
        <!-- remove -->

        <input type="text" class="form-control" placeholder="Search" ng-model="menuctrl.searchstring"
          ng-change="menuctrl.Search()"
          ng-show="!menuctrl.PathIs('/Nodered') && !menuctrl.PathIs('/Payment')&& !menuctrl.PathIs('/Customer')">
        <button class="btn btn-action mr-5" type="button" ng-click="menuctrl.toggleDarkMode()"
          aria-label="Toggle dark mode" zn_id="16">
          <i class="fa fa-moon" aria-hidden="true" zn_id="17"></i>
        </button>


        <button class="btn btn-primary" type="submit" ng-click="menuctrl.stopimpersonation()"
          ng-show="menuctrl.user.impostor != undefined && menuctrl.user.impostor != null && menuctrl.user.impostor != ''">
          <em class="fas fa-user-secret" style="color: red;"></em></button>

        <a href="/Signout" class="btn btn-primary"><span translate lib="web">logout</span></a>
        <!-- remove -->
        <div class="dropdown with-arrow"
          ng-show="menuctrl.WebSocketClientService.multi_tenant && menuctrl.customers != null && menuctrl.customers.length > 1">
          <button class="btn" data-toggle="dropdown" type="button" id="navbar-dropdown-toggle-btn-1">
            <span>{{menuctrl.customer.name || "No filter"}}</span>
            <i class="fa fa-angle-down" aria-hidden="true"></i>
          </button>
          <div class="dropdown-menu dropdown-menu-right w-200" aria-labelledby="navbar-dropdown-toggle-btn-1">
            <div class="row">
              <div class="col-sm text-left text-nowrap w-100">
                <a href ng-click="menuctrl.SelectCustomer(null)" class="dropdown-item">No filter</a>
              </div>
              <div class="col-sm text-right w-90">
                <a ng-href="#/Customer/{{model._id}}" ng-show="menuctrl.hasrole('customer admins')">
                  <em class="fas fa-money-bill-wave"></em></a>
              </div>
            </div>
            <div class="row" ng-repeat="model in menuctrl.customers">
              <div class="col-sm text-left text-nowrap w-100">
                <a href ng-click="menuctrl.SelectCustomer(model)" class="dropdown-item">{{model.name}}</a>
              </div>
              <div class="col-sm text-right w-90">
                <a ng-href="#/Customer/{{model._id}}" ng-show="menuctrl.hasrole('customer admins')">
                  <em class="fas fa-money-bill-wave"></em></a>
              </div>
            </div>
            <!-- <a class="dropdown-item" ng-href="#/Customer/{{model._id}}"
              ng-repeat="model in menuctrl.customers">{{model.name}}</a> -->
          </div>
        </div>
        <!-- remove -->

      </form>




      <div class="navbar-content d-md-none ml-auto">
        <div class="dropdown with-arrow">
          <button class="btn" data-toggle="dropdown" type="button" id="navbar-dropdown-toggle-btn-1">
            Menu
            <i class="fa fa-angle-down" aria-hidden="true"></i>
          </button>
          <div class="dropdown-menu dropdown-menu-right w-200" aria-labelledby="navbar-dropdown-toggle-btn-1">

            <a href="#/Entities" class="dropdown-item" ng-show="menuctrl.hasrole('users')"><span translate
                lib="web">entities</span></a>
            <a href="#/Workflows" class="dropdown-item"><span translate lib="web">workflows</span></a>
            <a href="#/RPAWorkflows" class="dropdown-item" ng-show="menuctrl.hasrole('users')"><span translate
                lib="web">rpaworkflows</span></a>
            <a href="#/Clients" class="dropdown-item" ng-show="menuctrl.hasrole('users')"><span translate
                lib="web">clients</span></a>
            <a href="#/Nodered" class="dropdown-item"
              ng-show="menuctrl.WebSocketClientService.allow_personal_nodered == true && menuctrl.hasrole('personal nodered users')">
              <span translate lib="web">nodered</span></a>
            <a href="#/Payment" class="dropdown-item" ng-show="menuctrl.WebSocketClientService.stripe_api_key != ''">
              <span translate lib="web">billing</span></a>
            <div class="dropdown-divider"></div>
            <div class="dropdown-content">
              <a href="/Signout" class="btn btn-primary"><span translate lib="web">logout</span></a>
            </div>
          </div>
        </div>
      </div>

    </nav>
    <div class="content-wrapper">
      <main role="main" class="container"
        ng-show="menuctrl.signedin || menuctrl.path=='/Login' || menuctrl.path=='/Signup'">
        <div ng-view class="starter-template">
        </div>
      </main>
    </div>

    <script src="bundle.js"></script>
    <script src="angular-localization.min.js"></script>
    <link rel="stylesheet" href="bundle.css">
    <script>
      angular.lowercase = text => (text == undefined || text == null ? "" : text.toLowerCase());
    </script>
  </div>
</body>

</html>